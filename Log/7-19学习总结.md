# 简述

- 大话通讯
  - 优化的不同方面：通信的分层、复用、拓扑、有连接和无连接、传输损耗、安全、数据加密、压缩、服务质量

# 优化

- 拓扑学：拓扑学（英语：Topology）也可写成拓朴学，或意译为位相几何学，是一门研究拓扑空间的学科，主要研究空间内，在连续变化下维持不变的性质。在拓扑学里，重要的拓扑性质包括连通性与紧致性。
- “优化”隐藏在通信领域的每个细节中，是对诸多技术体制、诸多工程实践的高度浓缩，它无孔不入、无处不在、见缝插针，又由表及里、由外至内、由浅至深。
  - 融入编码、复用、寻址、交换、传输、信令、安全、调度、开发、建设、运维等各个环节中去
    - 网络节点、网络拓扑、拥塞控制、网络安全
    - 内容分发网络（CDN）、VPN技术、P2P、边缘计算、雾计算、负载均衡
    - SDH网的自动倒换技术
- 而“优化”又是相对的，新的代替旧的，先进的代替落后的，哪怕同一种技术体制内，也会出现越来越频繁的技术迭代
- 数据网络互连和安全
  - 多协议标签交换（Multi-Protocol Label Switching，MPLS）是一种在开放的通信网上利用标签引导数据高速、高效传输的新技术。多协议的含义是指MPLS不但可以支持多种网络层层面上的协议，还可以兼容第二层的多种数据链路层技术。
  - 软件定义网络（Software Defined Network，SDN）是一种新型网络创新架构，是网络虚拟化的一种实现方式。其核心技术OpenFlow通过将网络设备的控制面与数据面分离开来，从而实现了网络流量的灵活控制，使网络变得更加智能，为核心网络及应用的创新提供了良好的平台。
    - SD-WAN（软件定义广域网）：SD-WAN(软件定义广域网)产品，是利用SDN(软件定义网络)的技术，通过将网络硬件与其控制平面分离，简化WAN的部署与管理，同时结合了广域网优化、基于应用的智能选路、私有的安全加密隧道、端到端的QoS和全球骨干网等技术，为企业构建高速安全、稳定可靠的广域网，同时大幅降低部署和运维成本，并可基于业务视角来快速构建企业网络。

## 通信分层结构

- 作用
  - 每层的职责范围明确定义
  - 明确层之间的关系
  - 明确对等层之间的关系
- 要求
  - 要分出若干层次，管理上类似的功能要放在同一层，在实现技术经常变化的地方增加层次，每个层次有自己的职责；
  - 要明确每个层次与上下层的关系，层次之间的边界要合理，使层次间的信息流量尽量最小；
  - 要明确每个层面与其对等层面的关系。
- 设计：ISO/OSI（International Organization for Standardization/Open Systems Interconnection）
  - 层次
    - 物理层：物理层解决最基础的传送通道问题，涉及建立、维护和释放物理链路所需的机械的、电气的/光学的、功能的和规程的特性等
    - 数据链路层：在物理层提供的按“位（bit）”服务的基础上，在相邻的网络节点之间提供简单的、以帧为单位传输的数据，同时它还强调数据链路不要拥堵，减少出错，出错了要想办法弥补。
    - 网络层：在数据链路层的“帧”的服务上，网络层所干的工作，就是进行路由选择、拥塞控制和网络互连。
    - 传输层：在网络层的“数据包”的服务上，传输层的任务是向用户提供可靠的、透明的端到端的数据传输， 以及差错控制和流量控制机制。
      - 面向连接：在一次通信过程中，信令在需要通信的双方或者多方之间呼叫， 利用网络资源建立起一条通道，并在这条通道上传递信号，在通信结束后关闭这一通道，这就是面向连接。
      - 面向非连接：在一次数据传送过程中，数据包逐节点传递，在每个网络节点上，根据数据包中的目的地址，借助于网络节点的路由信息，选择通往下一个节点的通道。
    - 会话层：在不同的机器之间提供会话进程的通信，如建立、管理和拆除会话进程。会话层还提供了许多增值服务，如交互式对话管理、允许一路交 
      互、两路交换和两路同时会话；管理用户登录远程系统；在两机器之间传输文件，进行同步控制等。
    - 表示层：表示层就是处理通信进程之间交换数据的表示方法，包括语法转换、数据格式的转换、加密与解密、压缩与解压缩等。
    - 应用层：应用层负责管理应用程序之间的通信。应用层为用户提供最直接的服务，包括虚拟终端、文件传输、事务处理、网络管理等。
- TCP连接的建立
  - 第一次握手：建立连接时，客户端发送SYN包到服务器，并进入SYN_SEND（已经发送SYN）状态，等待服务器确认。
  - 第二次握手：服务器收到SYN包，必须确认客户的SYN，同时自己也发送一个SYN包，即SYN+ACK包，此时服务器进入SYN_RECV（已经接收到SYN）状态。
  - 第三次握手：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK，这个包发送完毕，客户端和服务器进入ESTABLISHED（已经建立）状态，完成3次握手。之后，客户端与服务器开始传送数据。
- TCP连接的断开
  1. 客户端调用 close() 函数后，向服务器发送 FIN 数据包，进入FIN_WAIT_1状态。FIN 是 Finish 的缩写，表示完成任务需要断开连接。
  2. 
     1. 服务器收到数据包后，检测到设置了 FIN 标志位，知道要断开连接，于是向客户端发送“确认包”，进入CLOSE_WAIT状态。
        - 注意：服务器收到请求后并不是立即断开连接，而是先向客户端发送“确认包”，告诉它我知道了，我需要准备一下才能断开连接。
     2. 客户端收到“确认包”后进入FIN_WAIT_2状态，等待服务器准备完毕后再次发送数据包。
  3. 等待片刻后，服务器准备完毕，可以断开连接，于是再主动向客户端发送 FIN 包，告诉它我准备好了，断开连接吧。然后进入LAST_ACK状态。
  4. 客户端收到服务器的 FIN 包后，再向服务器发送 ACK 包，告诉它你断开连接吧。然后进入TIME_WAIT状态。
     - 服务器收到客户端的 ACK 包后，就断开连接，关闭套接字，进入CLOSED状态。

## 复用技术

- 确定复用
  - 在一次呼叫过程中
    - 同时建立两个方向的连接;
    - 每个方向只涉及一条电路;
    - 使用一一个电路的一部分 确定容量;
    - 在整个呼叫过程中始终专用这部分容量
  - 来源于电话网
  - 技术：FDM、PDH、SDH、 MSTP、WDM
- 统计复用
  - 在多次呼叫过程中
    - 一次呼叫只建立一个方向的连接;
    - 随机使用一个方向的所有电路;
    - 数据包竞争使用一条电路的全部容量;
    - 整个呼叫过程中，断续使用随机电路
  - 每条业务连接通过各自的标识号来进行区分，各个业务连接根据自身需要来争抢资源，系统会定义争抢的优先级以及拥塞时的抛弃优先级
  - 技术：PSPDN（X.25）、 帧中继、点对点协议（PPP，Point-to-Point Protocol）、ATM、以太网、IP网、IPRAN、PTN。
    - PPP是高级数据链路控制（HDLC）协议族的一般报文格式。它是为两个对等实体间传送数据包建立简单链接而设计的全双工操作。

## 网络拓扑

- 根据每种网络所提供服务的不同，可以采用合适的拓扑结构。在节约投资的基本要求下，合理的拓扑结构会帮助尽可能多的用户从尽可能近的地方、尽可能快地获取尽可能丰富的信息。
- 传统的电信网，都会分为核心层、汇聚层和接入层。在上述每个层次中，它们的“布阵方法”又千差万别。如总线型、星形、网状、环状、树形、双子星形等
  - 每一种类型都不能用“好”和“不好”来评价，而只能以“合理”和“不合理”来衡量。



##机理分类

- 寻址技术和网元设备分类方法
  - 按可用资源分类
  - 按应用场合分类
  - 按实现技术分类或者按实现技术机理分类。
    - 连接操作寻址技术
      - 实现：语音交换网PSTN和多协议标签交换MPLS网
    - 无连接操作寻址技术
      - 实现：传统路由器和交换机组成的IP网络
    - 与复用技术相比，有连接和无连接从另外一个角度节省了通信网络的资源， 提高了网络的综合利用率，提高了通信网络的传输和交换效率，并让通信网更加可用、易用。

## 传输损耗

- 损耗类型
  - 误码（Error）：接收与发送数字信号之间的单个数字的差异。如把0变成了1，1变成了0。
  - 抖动（Jitter）：数字信号的各有效瞬间相对于其理想时间位置的短时的、非累积性的偏移。如信号的个别迟到随即又恢复的现象。
  - 漂移（Wander）：数字信号的各有效瞬间相对于其理想时间位置的长期偏移。就好比每天晚来一点点，并得寸进尺，来得越来越晚。
  - 滑动（Slip）：数字信号连续数字位置不可恢复地丢失或增加。 如因时间不一致而造成的“无中生有”或者“丢三落四”
  - 时延（Delay）：数字信号的各有效瞬间相对于其理想时间位置的推迟，就是信号的整体“迟到”。
  - 时延抖动（Delay Variation）：数字信号的各有效瞬间相对于其理想时间位置的推迟变化幅度，也就是信号“迟到”时间长度的变化区间。
  - 分组（信元）丢失（Packet Loss&Cell Loss）：数据分组或数据信元不可恢复的丢失，就是连续的信号段的完全丢失。
- 无论是数据网还是语音网，都对传输损耗参数制定规范，并提出损耗类型的最大可接受值。
- 传输损耗是永远存在的。只能通过优化，尽力减小其对业务的影响。百分之百去除任何一种损耗，不现实。
- 解决办法：通信技术的综合发展，如传输介质、编码格式、校验技术、同步技术等的发展。

## 网络安全

- 大部分对“网络安全”的定义，基本都是针对计算机网络而言的，其实质内容多数是指计算机系统安全。
  - 最可能发生危险的地方才有对“安全”的讨论，基本不可能发生危险的地方，人们是不会去考虑安全问题的。
- 含义
  - 信息安全：信息内容的保密性
    - 通信和密码的结合->计算机系统安全->网络的边界保护
  - 网络通道的安全：通信“管道”（信道）本身的安全性
    - 广电网的典型网络安全问题是电视插播问题
    - PSTN和移动通信网的典型网络安全问题：电话骚扰；垃圾短信；通信诈骗等
    - 互联网的网络安全问题：数据包目的地地址容易被发现；IP源地址很容易修改伪造等
    - 无线网络的典型网络安全问题：黑客截取电波信号并解调数据；干扰阻断通信形成拒绝服务攻击等
- 信息系统(互联网)由信息基础设施（基础架构）和信息业务系统（内容）组成；信息基础设施由电信网络和计算机系统组成。互联网是一种电信网络。
- 安全服务
  - 访问控制服务：防止未授权使用系统资源，或者当网络资源已经饱和，防止新的呼叫进入，如连接接纳控制（CAC，Call Access Control）机制。PSTN、 ATM、MPLS网络都有相应的CAC机制。
  - 鉴别服务：防止假冒伪劣，盗用其他用户的身份，包括IP地址、MAC地址、无线频率等占用网络资源
  - 数据完整性服务：防止数据非法修改、插入、删除、中断，如黑客被商家雇用攻击竞争对手的网站这样的行为。
  - 数据保密性服务：防止泄密、信息流量分布，对保密性信息必须进行数据加密。
  - 抗抵赖性服务：防止抵赖，应尽可能做到可以追溯历史数据
  - 木马检测服务

## 数据加密

- 方面
  - 数据本身的加密
  - 数据传输的加密

## 压缩技术

- 目的
  - 节约存储空间、节省线路带宽、节省传送时间
  - 资源有限不得不压缩。
- 压缩造成的失真，如果用户能够接受，这种压缩就是成功的；如果用户不感知，这种压缩就是非常成功的
- 语音压缩技术ADPCM，中文翻译为“差分自适应PCM”。是一种采用平均值的方法来压缩语音编码的技术，采用差值替代绝对值。比如要传送一组较大的数字，只需传送其中一个数字和其他数字与它的差值即可。

## 通信服务质量

- 服务质量（QoS，Quality of Service）是指决定用户满足程度的业务性能的综合效果
  - 研究通信的QoS问题，并不只是研究如何提高QoS，而是研究如何用最低的代价、最少的投入，让通信网满足更多的业务QoS的需求。

- 国际电信联盟电信标准化部门(ITU Telecommunication Standardization Sector,ITU-T)提出了一套严肃、规范、难以理解的描述服务质量的参量
  - 业务保障性能：电信主管部门提供业务，并且在使用过程中提供支持的能力。
  - 业务适用性能：通信网络保证业务能够支持用户成功而且方便操作的能力。
  - 服务能力性能：通信网络保障用户请求提供业务和在请求过程中继续提供服务的能力。
  - 业务完善性能：电信网络保证业务建立之后传输损伤不能超过限定范围的能力。